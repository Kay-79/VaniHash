generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Task {
  id            BigInt   @id @default(autoincrement())
  task_id       String   @unique
  creator       String?
  reward_amount String?
  pattern       String?
  status        String?
  completer     String?
  tx_digest     String?
  timestamp_ms  BigInt?
  created_at    DateTime @default(now()) @db.Timestamptz(6)

  @@map("tasks")
}

model Listing {
  id           BigInt   @id @default(autoincrement())
  listing_id   String   @unique
  seller       String?
  price        String?
  type         String?
  status       String?
  buyer        String?
  price_sold   String?
  tx_digest    String?
  timestamp_ms BigInt?
  created_at   DateTime @default(now()) @db.Timestamptz(6)

  @@map("listings")
}

model Cursor {
  id         String   @id
  tx_digest  String?
  event_seq  String?
  updated_at DateTime @default(now()) @db.Timestamptz(6)

  @@map("cursors")
}
